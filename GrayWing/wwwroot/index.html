<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Crystal Pool Query Service</title>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <script src="lib/jquery-3.3.1.min.js"></script>
    <script src="index.js"></script>
    <script>
        function ExecuteQuery() {
            var client = new SparqlClient("/sparql");
            var t1 = Date.now();
            client.query($(".query-input").val())
                .always(function (result, httpCode) {
                    $(".debug-info").text("HTTP " + httpCode + "\nTime elapsed: " + (Date.now() - t1) + "ms");
                    var serialized;
                    if (result.documentElement) {
                        var serializer = new XMLSerializer();
                        serialized = serializer.serializeToString(result);
                    } else {
                        serialized = result + "";
                    }
                    $(".query-result").text(serialized);
                });
        }
    </script>
</head>
<body>
    <noscript>This web page needs JavaScript to work properly.</noscript>
<textarea class="query-input" rows="10">
SELECT ?cat WHERE {
    ?cat    wdt:P3      wd:Q622;       # should be fictional cat character
            wdt:P76     wd:Q627.       # should belongs to ThunderClan
}
</textarea>
    <div><button onclick="ExecuteQuery()">Execute Query</button></div>
    <hr />
    <div class="debug-info"></div>
    <div class="query-result"></div>
</body>
</html>